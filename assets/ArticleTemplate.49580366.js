import{a as M}from"./blog.feda4705.js";import{ab as O,a5 as P,P as n,d as B,o as R,Y as F,r as v,s as D,q as I,a6 as $,p as j,t as E,j as _,c as i,z as y,a4 as K,ai as z,aj as W,ak as q,al as H,b as U,F as L,a as G,ah as Y}from"./index.4367fab1.js";import{T as J}from"./index.4170ac31.js";import{K as N}from"./KeyCode.38631740.js";import{o as Q}from"./index.aa191d72.js";var X=P("small","default"),Z={prefixCls:n.string,size:n.oneOf(X),disabled:n.looseBool,checkedChildren:n.VNodeChild,unCheckedChildren:n.VNodeChild,tabindex:n.oneOfType([n.string,n.number]),autofocus:n.looseBool,loading:n.looseBool,checked:n.oneOfType([n.string,n.number,n.looseBool]),checkedValue:n.oneOfType([n.string,n.number,n.looseBool]).def(!0),unCheckedValue:n.oneOfType([n.string,n.number,n.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function}},ee=B({name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:Z,slots:["checkedChildren","unCheckedChildren"],emits:["update:checked","mouseup","change","click","keydown"],setup:function(t,c){var o=c.attrs,u=c.slots,h=c.expose,d=c.emit;R(function(){F(!("defaultChecked"in o),"Switch","'defaultChecked' is deprecated, please use 'v-model:checked'"),F(!("value"in o),"Switch","`value` is not validate prop, do you mean `checked`?")});var x=v(t.checked!==void 0?t.checked:o.defaultChecked),g=D(function(){return x.value===t.checkedValue});I(function(){return t.checked},function(){x.value=t.checked});var S=$("switch",t),r=S.prefixCls,f=v(),w=function(){var a;(a=f.value)===null||a===void 0||a.focus()},V=function(){var a;(a=f.value)===null||a===void 0||a.blur()};h({focus:w,blur:V}),j(function(){E(function(){t.autofocus&&!t.disabled&&f.value.focus()})});var l=function(a,p){t.disabled||(d("update:checked",a),d("change",a,p))},m=function(a){w();var p=g.value?t.unCheckedValue:t.checkedValue;l(p,a),d("click",p,a)},k=function(a){a.keyCode===N.LEFT?l(t.unCheckedValue,a):a.keyCode===N.RIGHT&&l(t.checkedValue,a),d("keydown",a)},b=function(a){var p;(p=f.value)===null||p===void 0||p.blur(),d("mouseup",a)},T=D(function(){var s;return s={},_(s,"".concat(r.value,"-small"),t.size==="small"),_(s,"".concat(r.value,"-loading"),t.loading),_(s,"".concat(r.value,"-checked"),g.value),_(s,"".concat(r.value,"-disabled"),t.disabled),_(s,r.value,!0),s});return function(){return i(W,{insertExtraNode:!0},{default:function(){return[i("button",y(y(y({},Q(t,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","defaultChecked","checkedValue","unCheckedValue"])),o),{},{onKeydown:k,onClick:m,onMouseup:b,type:"button",role:"switch","aria-checked":x.value,disabled:t.disabled||t.loading,class:[o.class,T.value],ref:f}),[t.loading?i(K,{class:"".concat(r.value,"-loading-icon")},null):null,i("span",{class:"".concat(r.value,"-inner")},[g.value?z(u,t,"checkedChildren"):z(u,t,"unCheckedChildren")])])]}})}}}),te=O(ee);const ne=q("blogStore",{state:()=>({title:"",description:"",content:"",atIndex:!1}),getters:{getTitle:e=>e.title,getDescription:e=>e.description,getContent:e=>e.content,getAtIndex:e=>e.atIndex,getBlogFullInfo:e=>({title:e.title,description:e.description,content:e.content,atIndex:e.atIndex})},actions:{setTitle(e){this.title=e.title},setDescription(e){this.description=e.description},setContent(e){this.content=e.content},setAtIndex(e){this.atIndex=e.atIndex},setBlogFullInfo(e){this.title=e.title,this.description=e.description,this.content=e.content,this.atIndex=e.atIndex}}});var ae=ne;const ie="_article_1hnep_47",le="_create-edit_1hnep_111",oe="_main-title_1hnep_114",ce="_sub-title_1hnep_117",se="_msg_1hnep_120",ue="_switch-box_1hnep_126",de="_label_1hnep_131",re="_label-text_1hnep_131";var C={article:ie,"create-edit":"_create-edit_1hnep_111",createEdit:le,"main-title":"_main-title_1hnep_114",mainTitle:oe,"sub-title":"_sub-title_1hnep_117",subTitle:ce,msg:se,"switch-box":"_switch-box_1hnep_126",switchBox:ue,label:de,"label-text":"_label-text_1hnep_131",labelText:re};const he={subTitle:String,autoSize:{type:Object,default:{minRows:1,maxRows:1}},wordCount:{type:Number,default:30},checkWordCount:Function,inputValue:{type:String,default:"",required:!0}};var A=B({name:"ArticleTextArea",props:he,emits:["inputValueChange"],components:{},setup(e,t){const c=v(""),{inputValue:o}=H(e);return I(o,()=>{c.value=o.value}),I([c],([u])=>{t.emit("inputValueChange",u)}),{inputString:c}},render(){return i(L,null,[i("h3",{class:C.subTitle},[`${this.subTitle}:`]),i(J,{placeholder:`\u5728\u6B64\u8F93\u5165${this.subTitle}\uFF0C\u9650${this.wordCount}\u4E2A\u5B57`,"auto-size":this.autoSize,value:this.inputString,"onUpdate:value":e=>this.inputString=e},null),i("p",{class:C.msg},[`0/${this.wordCount}`,U(" ")])])}});const pe={mainTitle:String,btnText:String,mode:String};var ke=B({name:"ArticleTemplate",props:pe,emits:["handleClick"],components:{},setup(e,t){const c=ae(),o=v(""),u=v(""),h=v(""),d=v(!1),x=G(),g=v(0),S=async()=>{g.value=parseInt(x.params.blogId);const l=await M({blogId:g.value}),{title:m,description:k,content:b,atIndex:T}=l.data;return c.setBlogFullInfo({titleData:m,descriptionData:k,contentData:b,atIndexData:T}),o.value=m,u.value=k,h.value=b,d.value=T,{title:o.value,description:u.value,content:h.value,atIndex:d.value}};I([o,u,h,d],([l,m,k,b])=>{c.$patch({title:l,description:m,content:k,atIndex:b})});const r=()=>{t.emit("handleClick",{title:o.value,description:u.value,content:h.value,atIndex:d.value})},f=l=>{o.value=l,c.setTitle(l)},w=l=>{u.value=l,c.setDescription(l)},V=l=>{h.value=l,c.setContent(l)};return R(async()=>{e.mode==="edit"&&await S()}),{title:o,description:u,content:h,atIndex:d,handleClick:r,changeTitle:f,changeDescription:w,changeContent:V}},render(){return i("section",{class:C.createEdit},[i("h1",{class:C.mainTitle},[this.mainTitle]),i(A,{subTitle:"\u6587\u7AE0\u6807\u9898",wordCount:30,inputValue:this.title,"onUpdate:inputValue":e=>this.title=e,onInputValueChange:e=>{this.changeTitle(e)}},null),i(A,{subTitle:"\u5185\u5BB9\u7B80\u4ECB",wordCount:30,autoSize:{minRows:2,maxRows:2},inputValue:this.description,"onUpdate:inputValue":e=>this.description=e,onInputValueChange:e=>{this.changeDescription(e)}},null),i(A,{subTitle:"\u6587\u7AE0\u5185\u5BB9(\u4EC5\u9650Markdown\u683C\u5F0F)",wordCount:3e4,autoSize:{minRows:18,maxRows:18},inputValue:this.content,"onUpdate:inputValue":e=>this.content=e,onInputValueChange:e=>{this.changeContent(e)}},null),i("div",{class:C.switchBox},[i("label",{class:C.label,for:"isShowAtIndex"},[i("span",{class:C.labelText},[U("\u662F\u5426\u5C55\u793A\u5230\u9996\u9875\uFF1A")]),i(te,{id:"isShowAtIndex",checked:this.atIndex,"onUpdate:checked":e=>this.atIndex=e},null)])]),i(Y,{class:"blog-btn",onClick:this.handleClick},{default:()=>[this.btnText]})])}});export{ke as A,ae as u};
